---
product: verify
category: Integrations
sort: 3
title: Auth0
subtitle: This tutorial demonstrates how to integrate Criipto Verify with Auth0.
---
import Layout from '../../../layouts/mdx';
export default Layout;

This tutorial demonstrates how to integrate Criipto Verify with Auth0. Following steps are required to complete your first login:

1. [Register your Auth0 tenant in Criipto Verify](#register-your-auth0-tenant-in-criipto-verify)
2. [Configure your OAuth2 flow](#configure-the-oauth2-code-flow)
3. [Create Auth0 connections](#create-auth0-connections)
4. [Integrate your application with Auth0](#integrate-your-application-with-auth0)

In the following you will be configuring first Criipto Verify, then Auth0, and finally finishing the Criipto Verify configuration
with the information you get from Auth0. Once configured you may test that everything works from Auth0.

## Register your Auth0 tenant in Criipto Verify

First, you must register your Auth0 tenant as an application in Criipto Verify.

Once you register your Auth0 tenant, you will also need some of the information for configuring Auth0 to communicate with Criipto Verify. You get these details from the settings of the application in the dashboard.

Specifically you need the following information to integrate with Auth0:

- _Client ID_ to identify your Auth0 tenant to Criipto Verify. In the case below we chose `urn:criipto:samples:no1`
- _Domain_ on which you will be communicating with Criipto Verify. Could be for example `samples.criipto.id`
- _Client secret_ is needed if you choose the *Back Channel* approach - which we do recommend. 
The secret is generated and copied as describe further down.

![Register App](./images/register-app.png)

## Configure the OAuth2 code flow

import CodeFlowSnippet from '../../../snippets/oauth2-code-flow.mdx';

<CodeFlowSnippet />

## Create Auth0 connections

To integrate Criipto Verify with Auth0, you create an Auth0 OpenID Connect connection to communicate with Criipto Verify. Because Auth0 will not pass the `acr_values` to Criipto Verify, you will have to create a new connection for every eID option that you intend to use. (`acr_values` is a parameter in the `authorize` request to Criipto Verify needed to specify which kind of eID is requested)

For those cases, you can leverage our login-method specific metadata endpoints. Each of these contain an embedded and base64-encoded variant of the "raw" value normally supplied in the `acr_values`.

Syntax:

- `https://yourdomain.criipto.id/BASE64(acr_values)/.well-known/openid-configuration`

For example, the `acr_values` of Norwegian BankID login method is `urn:grn:authn:no:bankid`. This translates to `dXJuOmdybjphdXRobjpubzpiYW5raWQ=` in base64 (UTF-8 charset), so the metadata endpoint will be:

- `https://yourdomain.criipto.id/dXJuOmdybjphdXRobjpubzpiYW5raWQ=/.well-known/openid-configuration`

### Choose the specific login method

Below is a list of supported login methods with corresponding base64 encoded `acr_values`. Choose the once you intend to use.

import LoginMethodsSnippet from '../../../snippets/login-methods-and-path-encoded.mdx';

<LoginMethodsSnippet />

<hr />

### Create the OIDC connection(s)
You create an OIDC connection for every login method you intend to use.

1. Go to Auth0 dashboard for your tenant and under **Authentication** choose **Enterprise**.
2. Select **OpenID Connect** and create a new connection.
3. Enter **Connection name**.
4. Under **Issuer URL** enter the login-method specific URL, as described above.
5. Under **Client ID** enter the **Client ID/Realm** from your Criipto Verify application.
6. Copy the **Callback URL** generated by Auth0 and enter it under **Callback URLs** in Criipto Verify application management.
7. Back in the Auth0 dashboard, create a connection by clicking **Create**.
8. After the connection is created, go to the **Settings** tab. 
9. Choose _Front Channel_ or _Back Channel_ as a **Type**, depending on how you intend to integrate it with your application.
  -  you should choose _Front Channel_ only if you are developing a pure SPA application. Otherwise, choose _Back Channel_.
10. If you chose _Back Channel_ as a **Type**, enter the **Client Secret** generated by Criipto Verify when you enabled the OAuth2 Code Flow.
11. Select **Save Changes**.
12. Make sure to enable the created connection for your Auth0 application. 

<Highlight icon="file-lines">

  After you save a connection, you may get an error: "Error! Something happened while trying to save your connection: Issuer metadata missing the following attributes: token_endpoint".

  This is due to a bug in Auth0's frontend, nothing to worry about. In this case, under the **Issuer URL** select **Show Issuer Details** and under **Token Endpoint** enter `https://<YOUR COMPANY>.criipto.id/oauth2/token`

</Highlight>

<Highlight icon="file-lines">

  If you are creating multiple connections, you have to enter **Callback URL** only once. It will be the same for every OpenID Connect connection.

</Highlight>

### Test the connection

To test your OpenID Connect connection, go back to the list of all OpenID Connect connections and select **Try** button on the right side of the connection you want to test.

### Test users

import TestUsersSnippet from '../../../snippets/test-users.mdx';

<TestUsersSnippet />

## Integrate your application with Auth0

How to integrate your application with Auth0 depends on the technology you are working with. Refer to the [Auth0 quickstart guide](https://auth0.com/docs/quickstarts/) for more details.
